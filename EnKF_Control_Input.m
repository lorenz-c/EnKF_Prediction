function U = EnKF_Control_Input(settings)




% Load some data
P = EnKF_Prepare_Data(settings.cntrl.data, ...
             'prec', ...
             'prec', ...
             settings.id_var, ...
             settings.region_ids, ...
             settings.cntrl.sdte, ...
             settings.cntrl.edte, ...
             false, ...
             settings.cntrl.filter, ...
             true);
%               
E = EnKF_Prepare_Data(settings.cntrl.data, ...
             'evap', ...
             'evap', ...
             settings.id_var, ...
             settings.region_ids, ...
             settings.cntrl.sdte, ...
             settings.cntrl.edte, ...
             false, ...
             settings.cntrl.filter, ...
             true);
         
R = EnKF_Prepare_Data(settings.cntrl.data, ...
             'runoff', ...
             'runoff', ...
             settings.id_var, ...
             settings.region_ids, ...
             settings.cntrl.sdte, ...
             settings.cntrl.edte, ...
             false, ...
             settings.cntrl.filter, ...
             true);
         
DM = EnKF_Prepare_Data(settings.cntrl.data, ...
             'twsc', ...
             'twsc', ...
             settings.id_var, ...
             settings.region_ids, ...
             settings.cntrl.sdte, ...
             settings.cntrl.edte, ...
             false, ...
             settings.cntrl.filter, ...
             true);

P  = mean(P, 3);
E  = mean(E, 3);
R  = mean(R, 3);
DM = mean(DM, 3);

       
% Put the time-series for P, E, R, and DM in a single matrix
U1 = [P'; E'; R'; DM'];
U2 = [U1(:, end) U1(:, 1:end - 1)];

U  = [U2; U1];

U = repmat(U, 1, settings.nr_yrs);








